version: '3.9'

services:
  navigation:
    image: ghcr.io/robast-gmbh/monorepo/navigation:release
    environment:
      - ROS_DOMAIN_ID=0
    volumes:
      - ./start_scripts/:/start_scripts/:cached
      - /tmp/.X11-unix:/tmp/.X11-unix
      - ../../src/ros2/navigation/environment_vars.yaml:/workspace/src/navigation/environment_vars.yaml:cached
    command: /bin/sh -c "./start_scripts/nav_start.sh"

  statemachine:
    image: ghcr.io/robast-gmbh/monorepo/statemachine:release
    environment:
      - ROS_DOMAIN_ID=0
    volumes:
      - ./start_scripts/:/start_scripts/:cached
      - /tmp/.X11-unix:/tmp/.X11-unix
    command: /bin/sh -c "./start_scripts/statemachine_start.sh"


#networks:
#  host:
#    name: host
#    external: true